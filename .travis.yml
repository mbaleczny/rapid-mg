language: android
env:
  global:
    - GRADLE_USER_HOME=${TRAVIS_BUILD_DIR}/gradle
    - ANDROID_HOME=${TRAVIS_BUILD_DIR}/android-sdk
    - SDK=${TRAVIS_BUILD_DIR}/android-sdk
    - PATH=${GRADLE_USER_HOME}/bin/:${SDK}/:${SDK}/tools/:${SDK}/platform-tools/:${PATH}
#before_install:
#  - export OLD_SDK=/usr/local/android-sdk-23.0.2;
#                                           mkdir -p ${SDK};
#                                           cp -u -R ${OLD_SDK}/platforms ${SDK}/platforms;
#                                           cp -u -R ${OLD_SDK}/system-images ${SDK}/system-images;
#                                           cp -u -R ${OLD_SDK}/tools ${SDK}/tools

cache:
  apt: true
  directories:
    - ${TRAVIS_BUILD_DIR}/gradle/caches/
    - ${TRAVIS_BUILD_DIR}/gradle/wrapper/dists/
    - ${TRAVIS_BUILD_DIR}/android-sdk/extras/
android:
  components:
    - tools
    - tools
    - platform-tools
    - build-tools-25.0.2
    - android-25
    - extra-android-m2repository
    - add-on

jdk:
  - oraclejdk8
os:
  - linux
script:
  - ./gradlew build